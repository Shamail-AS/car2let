<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Bootstrap 3, from LayoutIt!</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

	<!--link rel="stylesheet/less" href="less/bootstrap.less" type="text/css" /-->
	<!--link rel="stylesheet/less" href="less/responsive.less" type="text/css" /-->
	<!--script src="js/less-1.3.3.min.js"></script-->
	<!--append ‘#!watch’ to the browser URL, then refresh the page. -->
	
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/style.css" rel="stylesheet">

    <link rel="stylesheet" href="../dist/fonts/font-awesome.min.css"/>
    <link rel="stylesheet" href="../dist/css/build.css"/>

    <!-- In <head> -->
    <link href="../noUiSlider/nouislider.min.css" rel="stylesheet">

  <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
  <![endif]-->

    <script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
	<script type="text/javascript" src="js/scripts.js"></script>
    <!-- amCharts javascript sources -->
    <script type="text/javascript" src="../amcharts/amcharts.js"></script>
    <script type="text/javascript" src="../amcharts/serial.js"></script>


    <!-- In <body> -->
    <script src="../noUiSlider/nouislider.min.js"></script>
</head>


<style rel="stylesheet">

    body{
        padding-top: 70px;
        background-color: #d3f0d8;
    }
    .panel-footer{
        background-color: #36c68c;
    }
    .panel-footer, .panel-heading > p{
        color: #ffffff;
    }

    .list-group-item {
        color: #ffffff;
        background-color: inherit;
        border: hidden;
    }
    * {
        #border: 1px solid black;
    }
    .box {
        margin: 20px;
        padding: 10px;
        box-shadow: 1px 2px 5px #707070
    }
    label{
        font-family: Century Gothic;
        font-size: larger;
    }
    .slider{
        margin: 20px;
        margin-top:10px;
    }
    .radios > input{
        margin-left: 20px;
    }

    .checkbox input[type=checkbox]:checked + label:after {
        font-family: 'Glyphicons Halflings';
        content: "\e013";
    }
    .checkbox label:after {
        padding-left: 4px;
        padding-top: 2px;
        font-size: 9px;
    }


</style>
<div class="container">

    <!-- Static navbar -->
    <nav class="navbar navbar-default navbar-fixed-top" style="background-color: #36c68c;">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="#" style="color: #ffffff;">Cars2Let Payment Calculator</a>

            </div>

           <!-- <button id="btnuseit" class="btn btn-default navbar-btn pull-right" style="color: #0f7d78; margin-right: 5px"
                    onclick="logout()">Logout</button>

            <button class="btn btn-default navbar-btn pull-right" style="color: #0f7d78; margin-right: 5px"
                    onclick="location.href = 'myTrees.php'">Back to My Tests</button>-->
        </div>
        <!--/.container-fluid -->
    </nav>




</div>

<div class="row ">
    <div class="col-md-4">
        <div class="panel panel-default box">

            <div class="panel-body">
                <label>Select correct eligibility</label>
                <br>
                <div class="row">
                    <div class="col-sm-4">
                        <div class="radio">
                            <input type="radio" id="radSEIS" class="PMT" name="eligibility">
                            <label for="radSEIS">
                                SEIS
                            </label>
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div class="radio">
                            <input type="radio" id="radEIS" class="PMT" name="eligibility">
                            <label for="radEIS">
                                EIS
                            </label>
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div class="radio">
                            <input type="radio" id="radNA" class="PMT" name="eligibility">
                            <label for="radNA">
                                NA
                            </label>
                        </div>
                    </div>


                </div>

                <br>

                <label>Investment</label><br>
                <div class="slider" id="investment"></div>
                <!--<input class="PMT" id="investment" type="range" min="5000" max="100000" step="500">-->

                <br><br>

                <label>Weeks utilized (per year)</label><br>
                <div class="slider" id="utilized"></div>


                <br><br>

                <label>Avg. weekly rental</label><br>
                <div class="slider" id="rental"></div>

                <br><br>

                <label>Est. disposal value</label><br>
                <div class="slider" id="disposal"></div>

                <br><br>

                <div class="checkbox">
                    <input type="checkbox" id="checkbox1" onchange="ToggleLoaned()">
                    <label for="checkbox1">
                        I took a loan
                    </label>
                </div>
                <br>

                <div id="loaned">
                    <label>Equity</label><br>
                    <div class="slider" id="equity"></div>
                    <!--<input class="PMT" id="equity" type="range" min="500" max="10000" step="50">-->

                    <br><br>

                    <label>Interest Rate</label><br>
                    <div class="slider" id="rate"></div>
                    <!--<input class="PMT" id="rate" type="range" min="5" max="25" step="1">-->

                    <br><br>

                    <label>Period (months)</label><br>
                    <div class="slider" id="period"></div>
                    <!--<input class="PMT" id="period2" type="range" min="12" max="60" step="1" >-->

                    <br><br>

                </div>




            </div>
        </div>
    </div>
    <div class="col-md-8">
        <div class="panel panel-default box">

        </div>
    </div>
</div>

<script src="formulas.js"></script>
<script>
    $().ready(function(){
       $("#loaned").hide();
    });

    var period = document.getElementById("period");
    noUiSlider.create(period, {
        start: [12],
        connect: 'lower',
        range: {
            'min': 12,
            'max': 60
        },
        pips: {
            mode: 'values',
            values: [12, 20, 30, 40, 50,60],
            density: 4
        }
    });

    var rate = document.getElementById("rate");
    noUiSlider.create(rate, {
        start: [5],
        connect: 'lower',
        range: {
            'min': 5,
            'max': 25
        },
        pips: {
            mode: 'values',
            values: [5, 10, 15, 20, 25],
            density: 4
        }
    });

    var inv = document.getElementById("investment");
    noUiSlider.create(inv, {
        start: [500],
        connect: 'lower',
        range: {
            'min': 500,
            'max': 10000
        },
        pips: {
            mode: 'positions',
            values: [0, 20, 40, 60, 80, 100],
            density: 4
        }
    });

    var eq = document.getElementById("equity");
    noUiSlider.create(eq, {
        start: [1],
        connect: 'lower',
        range: {
            'min': 1,
            'max': 100
        },
        pips: {
            mode: 'positions',
            values: [0, 20, 40, 60, 80, 100],
            density: 4
        }
    });

    var utilized = document.getElementById("utilized");
    noUiSlider.create(utilized, {
        start: [5],
        connect: 'lower',
        range: {
            'min': 5,
            'max': 52
        },
        pips: {
            mode: 'positions',
            values: [0, 20, 40, 60, 80, 100],
            density: 4
        }
    });

    var rental = document.getElementById("rental");
    noUiSlider.create(rental, {
        start: [50],
        connect: 'lower',
        range: {
            'min': 50,
            'max': 150
        },
        pips: {
            mode: 'positions',
            values: [0, 20, 40, 60, 80, 100],
            density: 4
        }
    });

    var disposal = document.getElementById("disposal");
    noUiSlider.create(disposal, {
        start: [1000],
        connect: 'lower',
        range: {
            'min': 1000,
            'max': 5000
        },
        pips: {
            mode: 'positions',
            values: [0, 20, 40, 60, 80, 100],
            density: 4
        }
    });

    function ToggleLoaned()
    {
        $("#loaned").fadeToggle();
    }

    var object = $(".PMT").change(function(){

        console.clear();
        var period = $("#period").val();

        var rate = $("#rate").val();
        var invest = $("#investment").val();
        var equity = $("#equity").val();
        var debt = invest - equity;


        var data = {
            "period" : period,
            "rate" : rate,
            "investment" : invest,
            "equity" : equity
        };

        var numrate = parseInt(rate)/100;
        var numMonths = parseInt(period);
        var pv = parseInt(debt);

        var calcs = {
            "rent" : 102*45/12,
            "saleprice" : 4412,
            "leverage" : 100*equity/invest,
            "lease" : pmt(numrate/12,numMonths,pv,0,1),
            "debt" : debt
        };


        console.log(data);
        console.log("calculated data");
        console.log(calcs);

    });
</script>

</body>
</html>
